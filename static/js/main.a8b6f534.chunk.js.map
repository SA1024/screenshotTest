{"version":3,"sources":["imgs/slideImgs sync /^/.//.*/.jpg$","imgs/slideImgs/blue.jpg","imgs/slideImgs/darkgreen.jpg","imgs/slideImgs/green.jpg","imgs/slideImgs/red.jpg","imgs/slideImgs/white.jpg","imgs/slideImgs/yellow.jpg","App.js","reportWebVitals.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","imgArr","name","style","width","height","marginLeft","marginTop","imgs","item","require","ImgBox","className","this","props","onClick","console","log","index","src","imgUrl","Component","isNightMode","App","setSlideshowLoop","reset","clearInterval","slideInterval","setInterval","derection","currentImgIndex","state","length","setState","playSlideshow","direction","preImgIndex","nextImgIndex","ifSetPrevious","setTimeout","setPreviousImgClassName","touchStart","event","startPositionX","changedTouches","clientX","startPositionY","clientY","touchEnd","touchPickEnd","jump","screenWidth","window","document","body","clientWidth","isShortcutNightMode","browser","screen","getNightmodeEnabled","nightmodeEnabled","String","env","subPlatForm","qb_bridge","exec","callback","isNight","x5","imgRefMap","onload","location","href","imgsBoxesList","default","pickImgAni","animation","onTouchStart","onTouchEnd","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a8b6f534.chunk.js","sourcesContent":["var map = {\n\t\"./blue.jpg\": 16,\n\t\"./darkgreen.jpg\": 17,\n\t\"./green.jpg\": 18,\n\t\"./red.jpg\": 19,\n\t\"./white.jpg\": 20,\n\t\"./yellow.jpg\": 21\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 15;","export default __webpack_public_path__ + \"static/media/blue.6686a42e.jpg\";","export default __webpack_public_path__ + \"static/media/darkgreen.870e8daa.jpg\";","export default __webpack_public_path__ + \"static/media/green.97ed9134.jpg\";","export default __webpack_public_path__ + \"static/media/red.22b016a1.jpg\";","export default __webpack_public_path__ + \"static/media/white.2912dc05.jpg\";","export default __webpack_public_path__ + \"static/media/yellow.752cdb81.jpg\";","import React, { Component } from 'react';\nimport './App.scss';\n\nconst imgArr = [\n  {\n    name: 'white', style: {\n      width: '100%',\n      height: '100%',\n      marginLeft: '-50%',\n      marginTop: '-10%',\n    }\n  },\n  {\n    name: 'blue', style: {\n      width: '100%',\n      height: '100%',\n      marginLeft: '-15%',\n      marginTop: '-7%',\n    }\n  },\n  {\n    name: 'green', style: {\n      width: '100%',\n      height: '100%',\n      marginLeft: '-25%',\n      marginTop: '-8%',\n    }\n  },\n  {\n    name: 'darkgreen',\n    style: {\n      width: '120%',\n      height: '100%',\n      marginLeft: '-7%',\n      marginTop: '-8%',\n    },\n  },\n  {\n    name: 'yellow', style: {\n      width: '100%',\n      height: '100%',\n      marginLeft: '-10%',\n      marginTop: '-7%',\n    }\n  },\n  {\n    name: 'red', style: {\n      width: '100%',\n      height: '100%',\n      marginLeft: '-22%',\n      marginTop: '-8%',\n    }\n  },\n];\n\n\nconst imgs = imgArr.map(item => require(`./imgs/slideImgs/${item.name}.jpg`));\n\nclass ImgBox extends Component {\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        onClick={() => {\n          console.log(this.props.index);\n        }}\n      >\n        <img\n          style={imgArr[this.props.index].style}\n          className=\"image\"\n          src={this.props.imgUrl}\n        />\n      </div>\n    );\n  }\n}\n\nlet isNightMode = null;\nexport default class App extends Component {\n\n  constructor (props) {\n    super(props);\n\n    this.screenWidth = window.document.body.clientWidth;\n    console.log('this.screenWidth: ', this.screenWidth)\n    isNightMode = window.isShortcutNightMode === 1; // 仅ios\n\n    window.browser?.screen?.getNightmodeEnabled((nightmodeEnabled) => {\n      isNightMode = String(nightmodeEnabled) === 'true';\n    });\n\n    switch (window.browser?.env?.subPlatForm) {\n      case 'ADR':\n        window.qb_bridge?.exec(\n          (callback) => {\n            isNightMode = callback.isNight;\n            this.setState({\n              isNightMode,\n            });\n          },\n          null,\n          'xhomeweb',\n          'observeNightSkin',\n          {},\n        );\n        break;\n\n      case 'IPH':\n        window.x5?.exec(\n          (callback) => {\n            isNightMode = callback.isNight;\n            this.setState({\n              isNightMode,\n            });\n          },\n          null,\n          'xhomeweb',\n          'observeNightSkin',\n          [],\n        );\n        break;\n    }\n\n    this.state = {\n      isNightMode,\n      currentImgIndex: 0,\n    }\n\n    this.imgRefMap = {};\n  }\n\n  setSlideshowLoop = (reset = false) => {\n\n    clearInterval(this.slideInterval);\n    this.slideInterval = setInterval(() => {\n      this.derection = 'next';\n      let currentImgIndex = this.state.currentImgIndex;\n      if (!reset) {\n        currentImgIndex = this.state.currentImgIndex;\n      }\n      currentImgIndex = ++currentImgIndex;\n\n      if (currentImgIndex > imgArr.length - 1) {\n        currentImgIndex = 0;\n      }\n\n      this.setState({\n        currentImgIndex,\n      });\n\n      this.playSlideshow(currentImgIndex, 'next');\n    }, 4500);\n  }\n\n  playSlideshow = (currentImgIndex, direction, reset = false) => {\n\n    if (direction === 'next') {\n      this.preImgIndex = currentImgIndex - 1;\n      this.nextImgIndex = currentImgIndex + 1;\n    } else {\n      this.preImgIndex = currentImgIndex + 1;\n      this.nextImgIndex = currentImgIndex - 1;\n    }\n\n    if (this.preImgIndex < 0) {\n      this.preImgIndex = imgArr.length - 1;\n    }\n\n    if (this.preImgIndex > imgArr.length - 1) {\n      this.preImgIndex = 0;\n    }\n\n    if (this.nextImgIndex > imgArr.length - 1) {\n      this.nextImgIndex = 0;\n    }\n\n    if (reset) {\n      this.setSlideshowLoop(true);\n    }\n\n    // console.log(`\n    //   playSlideshow---------------------\n    //   preImgIndex: ${this.preImgIndex}\n    //   currentImgIndex: ${currentImgIndex}\n    //   nextImgIndex: ${this.nextImgIndex}\n    //   `);\n    this.setState({\n      currentImgIndex,\n      direction,\n      ifSetPrevious: false,\n    }, () => {\n      setTimeout(() => {\n        this.setPreviousImgClassName();\n      }, 1500);\n    });\n  }\n\n  setPreviousImgClassName = () => {\n    this.setState({\n      ifSetPrevious: true,\n    })\n  }\n\n  touchStart = (event) => {\n    this.startPositionX = event.changedTouches[0].clientX;\n    this.startPositionY = event.changedTouches[0].clientY;\n  }\n\n  touchEnd = (event) => {\n    // console.log(`\n    // touchEnd\n    // Offset-X: ${event.changedTouches[0].clientX - this.startPositionX}\n    // Offset-Y: ${event.changedTouches[0].clientY - this.startPositionY}\n    // `);\n\n    let currentImgIndex;\n\n    if (event.changedTouches[0].clientX - this.startPositionX > 35\n      || event.changedTouches[0].clientY - this.startPositionY < -35) {\n\n      currentImgIndex = this.state.currentImgIndex - 1;\n\n      if (currentImgIndex < 0) {\n        currentImgIndex = 5;\n      }\n      // console.log('play previous img', currentImgIndex);\n      this.derection = 'previous';\n      this.playSlideshow(currentImgIndex, 'previous', true);\n      return;\n    }\n\n    if (event.changedTouches[0].clientX - this.startPositionX < -35\n      || event.changedTouches[0].clientY - this.startPositionY > 35) {\n\n      currentImgIndex = this.state.currentImgIndex + 1;\n\n      if (currentImgIndex > imgArr.length - 1) {\n        currentImgIndex = 0;\n      }\n\n      // console.log('play next img', currentImgIndex);\n      this.derection = 'next';\n      this.playSlideshow(currentImgIndex, 'next', true);\n      return;\n    }\n  }\n\n  touchPickEnd = (event) => {\n    // console.log(`\n    //   touchPickEnd\n    //   startX: ${this.startPositionX}\n    //   startY: ${this.startPositionY}\n    //   Offset-X: ${event.changedTouches[0].clientX - this.startPositionX}\n    //   Offset-Y: ${event.changedTouches[0].clientY - this.startPositionY}\n    // `);\n  }\n\n  jump = () => {\n    console.log('jump', this.state.currentImgIndex);\n  }\n\n  componentDidMount() {\n    clearInterval(this.slideInterval);\n    this.setSlideshowLoop();\n\n    window.onload = () => {\n      setTimeout(() => {\n        // 在终端上屏\n        window.location.href = 'xhome://planet_explore';\n      }, 300);\n    }\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.slideInterval);\n  }\n\n  render() {\n\n    const { ifSetPrevious, currentImgIndex } = this.state;\n    const imgsBoxesList = imgs.map((item, index) => {\n      let className = 'imgBox hide';\n      if (currentImgIndex === index) {\n        className = 'imgBox show animation';\n      }\n      if (this.preImgIndex === index) {\n        className = 'imgBox preShow animation';\n        if (ifSetPrevious) {\n          className = 'imgBox preShow';\n        }\n      }\n\n      return (\n        <ImgBox\n          key={index}\n          className={className}\n          index={index}\n          imgUrl={item.default}\n        />\n      );\n    });\n\n\n    let pickImgAni = `movePick${currentImgIndex} 1s 0s linear forwards`;\n    if (this.derection === 'previous') {\n      pickImgAni = `movePickReverse${currentImgIndex} 1s 0s linear forwards`;\n    }\n\n    return (\n      <div className=\"wrapper\">\n        <div\n          className={this.isNightMode ? \"pickWrap pickWrapNightBg\" : \"pickWrap pickWrapDayBg\"}\n          style={{\n            animation: pickImgAni,\n          }}\n          // onTouchStart={this.touchStart}\n          // onTouchEnd={this.touchPickEnd}\n        >\n\n        </div>\n        <div\n          className=\"main\"\n        >\n          {imgsBoxesList}\n          <canvas />\n        </div>\n        <div\n          className={this.isNightMode ? \"win nightBackground\" : \"win dayBackground\"}\n          onTouchStart={this.touchStart}\n          onTouchEnd={this.touchEnd}\n          onClick={this.jump}\n        ></div>\n        {/* <p style={{\n          width: \"100%\",\n          position: 'absolute',\n          top: 0,\n          textAlign: 'center',\n          color: 'pink',\n        }}>21-05</p> */}\n      </div>\n    );\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}